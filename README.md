# Artificial Intelligence Based Digital Scores of Stromal Tumour-infiltrating Lymphocytes and Tumour-associated Stroma Predict Disease Specific Survival in Triple-negative Breast Cancer
by
Rawan Albusayli,
Dinny Graham,
etc

## Abstract
Triple-negative breast cancer (TNBC) is known to have relatively poor 
outcome with variable prognoses, raising the need for more informative 
risk stratification. We investigated a set of digital, artificial intelligence (AI) 
based spatial tumour microenvironment (sTME) features and explored their prognostic 
value in TNBC. After performing tissue classification on digitised Haematoxylin and Eosin (H&E) 
slides of TNBC cases, we employed a deep learning-based algorithm to segment tissue regions into tumour, 
stroma, and lymphocytes in order to compute quantitative features concerning the spatial relationship of 
tumour with lymphocytes and stroma. The prognostic value of the digital features was explored using survival 
analysis with Cox proportional hazard models in a cross-validation setting on two independent international 
multi-centric TNBC cohorts: The Australian Breast Cancer Tissue Bank (AUBC) cohort (n=318) and 
The Cancer Genome Atlas Breast Cancer (TCGA) cohort (n = 111). The proposed digital stromal tumour infiltrating 
lymphocytes (Digi-sTILs) score and the digital tumour-associated stroma (Digi-TAS) score were found to carry strong 
prognostic value for disease-specific survival, with the Digi-sTILs and Digi-TAS scores giving C-index values of 0.65 (p = 0.0189) 
and 0.60 (p = 0.0437), respectively, on the TCGA cohort as a validation set. Combining the Digi-sTILs feature with the patientâ€™s 
positivity status for axillary lymph nodes yielded a C-index of 0.76 on unseen validation cohorts. We surmise that the proposed 
digital features could potentially be used for better risk stratification and management of TNBC patients. 

## Software implementation

All source code used to generate the results and figures in the paper are in
the `code` folder.
The TCGA data used in this study is provided in `data`.
Results generated by the code are saved in `results`.

## Getting the code

You can download a copy of all the files in this repository by cloning the
[git](https://git-scm.com/) repository:

    git clone https://github.com/Rawanrb/Digi-WSIs-Analysis.git

or [download a zip archive](https://github.com/Rawanrb/Digi-WSIs-Analysis/archive/refs/heads/main.zip).

## Dependencies

You'll need a working Python environment to run the code.
The recommended way to set up your environment is through the
[Anaconda Python distribution](https://www.anaconda.com/download/) which
provides the `conda` package manager.
Anaconda can be installed in your user directory and does not interfere with
the system Python installation.
The required dependencies are specified in the file `environment.yml`.

We use `conda` virtual environments to manage the project dependencies in
isolation.
Thus, you can install our dependencies without causing conflicts with your
setup (even with different Python versions).

Run the following command in the repository folder (where `environment.yml`
is located) to create a separate environment and install all required
dependencies in it:

    conda env create


## Reproducing the results

Before running any code you must activate the conda environment:

    source activate ENVIRONMENT_NAME

or, if you're on Windows:

    activate ENVIRONMENT_NAME

This will enable the environment for your current terminal session.
Any subsequent commands will use software that is installed in the environment.
To execute and test the code, uncomment the lines in `code/runme.R` or `code/runme.py`.

## License 

All source code is made available under a BSD 3-clause license. You can freely
use and modify the code, without warranty, so long as you provide attribution
to the authors. See `LICENSE.md` for the full license text.

The manuscript text is not open source. The authors reserve the rights to the
article content, which is currently submitted for publication in the
Journal of Pathology.
